<div class="siliconflow-extension-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-header inline-drawer-toggle">
            <b><i class="fa-solid fa-waveform-lines"></i> SiliconFlow TTS (jztdd)</b>
            <div class="inline-drawer-icon fa-solid fa-chevron-down"></div>
        </div>
        <div class="inline-drawer-content" style="display: none; padding: 15px;">
            
            <div style="margin-bottom: 10px;">
                <label>API Key:</label>
                <input id="siliconflow_api_key" type="password" class="text_block" placeholder="sk-...">
            </div>

            <div style="margin-bottom: 10px;">
                <label>API URL:</label>
                <input id="siliconflow_api_url" type="text" class="text_block" value="https://api.siliconflow.cn/v1">
            </div>

            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                <select id="tts_model" class="text_block" style="flex:1;"></select>
                <select id="tts_voice" class="text_block" style="flex:1;"></select>
            </div>

            <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                <label><input type="checkbox" id="auto_play_audio"> 自动朗读角色</label>
                <label><input type="checkbox" id="auto_play_user"> 自动朗读用户</label>
            </div>

            <div style="border: 1px dashed #444; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                <label>文本截取 (开始标记, 结束标记):</label>
                <input id="image_text_start" type="text" placeholder="例如: “" style="width:45%; display:inline-block;">
                <input id="image_text_end" type="text" placeholder="例如: ”" style="width:45%; display:inline-block;">
            </div>

            <textarea id="tts_test_text" class="text_block" rows="2">你好，测试一下语音。</textarea>
            
            <div style="margin-top: 10px; display: flex; gap: 10px;">
                <button id="test_tts" class="menu_button">测试播放</button>
                <button id="save_siliconflow_settings" class="menu_button">保存配置</button>
            </div>
        </div>
    </div>
</div>

<style>
    .siliconflow-extension-settings .inline-drawer {
        border: 1px solid var(--SmartThemeBorderColor);
        border-radius: 8px;
        margin-bottom: 10px;
    }
    .siliconflow-extension-settings .inline-drawer-header {
        padding: 10px;
        background: var(--SmartThemeBlurTintColor);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
    }
    .siliconflow-extension-settings input.text_block {
        width: 100%;
        margin-top: 5px;
    }
    @keyframes sf-pulse-anim {
        0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; }
    }
    .sf-pulse { animation: sf-pulse-anim 1s infinite; }
</style>
